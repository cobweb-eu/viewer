<!doctype html>
<html lang="en-US">
<head>
<base href="/dataviewer/">

<meta charset="utf-8" />

<title>COBWEB Sensor Data Viewer (beta)</title>

  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <link rel="shortcut icon" href="http://vandelaydesign.com/favicon.ico">
  <link rel="icon" href="http://vandelaydesign.com/favicon.ico">
  <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../../../../../../../../../../../dataviewer/styles.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merienda:400,700">
  <script type="text/javascript"
	src="http://code.jquery.com/jquery-latest.min.js"></script>
 
  <link rel="stylesheet" href="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Leaflet/dist/leaflet.css" />
<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Leaflet/dist/leaflet.js"></script>
<link rel="stylesheet"
	href="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Leaflet.markercluster/dist/MarkerCluster.css" />
<link rel="stylesheet"
	href="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Leaflet.markercluster/dist/MarkerCluster.Default.css" />
<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Leaflet.markercluster/dist/leaflet.markercluster.js"></script>

<link rel="stylesheet"
	href="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Leaflet.toolbar/dist/leaflet.toolbar.css" />
<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Leaflet.toolbar/dist/leaflet.toolbar.js"></script>

	<link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/OpenWeather/leaflet-openweathermap.css" />
	<script type="text/javascript" src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/OpenWeather/leaflet-openweathermap.js"></script>

	
	 <link rel="stylesheet" href="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Mouse/L.Control.MousePosition.css" />
    <script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Mouse/L.Control.MousePosition.js"></script>


<script type="text/javascript">
	$.getScript("https://www.google.com/jsapi", function() {
		google.load('visualization', '1', {
			'callback' : 'console.log(\'Chart API loaded\')',
			'packages' : [ 'corechart' ]
		});

	});
</script>
<!-- Add mousewheel plugin (this is optional) -->
<script type="text/javascript"
	src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/fancybox/lib/jquery.mousewheel-3.0.6.pack.js"></script>

<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/ext/Filesaver/FileSaver.min.js"></script>

<!-- Add fancyBox -->
<link rel="stylesheet"
	href="../../../../../../../../../../../../../../../../../../../../../../dataviewer/fancybox/source/jquery.fancybox.css?v=2.1.5" type="text/css"
	media="screen" />
<script type="text/javascript"
	src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
	
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/config.js"></script>
 <script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/utils.js"></script>
<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/knotweed_config.js"></script>
<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/floodutil.js"></script>
<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/sensorutil.js"></script>
<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/overlayutil.js"></script>
<script src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/js/socialutil.js"></script>
<script src="js/main2.js"></script>

<script>
	$(document).ready(function() {
		$('.fancybox').fancybox();
		  $("#nav > li > a").on("click", function(e){
    if($(this).parent().has("ul")) {
      e.preventDefault();
    }
    
    if(!$(this).hasClass("open")) {
      // hide any open menus and remove all other classes
      $("#nav li ul").slideUp(350);
      $("#nav li a").removeClass("open");
      
      // open our new menu and add the open class
      $(this).next("ul").slideDown(350);
      $(this).addClass("open");
    }
    
    //else ($(this).hasClass("open")) {
     // $(this).removeClass("open");
      //$(this).next("ul").slideUp(350);
    //}
  });
	});
</script>
<style>

html, body, #map {
	padding: 0px;
	margin: 0px;
	height: 100%;
	width: 100%;
	background-color: #FFFFFF;
}

div#fixedheader {
	background: #304820;
	color: white;
	width: 100%;
	font-size:35px;
}

P.blocktext {
    margin-left: auto;
    margin-right: auto;
    width: 6em
}

.legend {
	color: DimGrey;
}

.legend i {
	width: 15px;
	height: 15px;
	float: left;
	margin-right: 8px;
	opacity: 0.7;
}

.info {
	padding: 6px 8px;
	font: 14px/16px Arial, Helvetica, sans-serif;
	background: white;
	background: rgba(255, 255, 255, 0.8);
	box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
	border-radius: 5px;
}

.leaflet-popup-content {
	min-width: 500px;
}
.auto-style2 {
	font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande", "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
	font-size: x-small;
	color: #008000;
}
</style>

</head>
<body>
	<div id="fixedheader"><div><center>
		<img src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/tree.png"/>COBWEB Sensor Data Viewer (beta)<img src="../../../../../../../../../../../../../../../../../../../../../../dataviewer/eu.png"/></center></div></div>

<!--[if lt IE 9]>
  <script type="text/javascript" src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<div id="map"></div>

    <nav>
      <ul id="nav">
        <li><a href="#">Social Sensors</a>
          <ul>
			<li><a href='#' class='' id='markers3'>Twitter Sensors</a></li>
			<li><a href='#' class='' id='markersFake'>Flickr Sensors</a></li>
          </ul>
        </li>
        <li><a href="#">Physical Sensors</a>
          <ul>
           <li><a href='#' class='' id='wug'>Weather Underground</a></li>
		   <li><a href='#' class='' id='salt'>Salt Marsh</a></li>
		   <li><a href='#' class='' id='peat'>Peat Bog</a></li>
		   <li><a href='#' class='' id='shoot'>Shoothill</a></li>
			<li><a href='#' class='' id='markers2'>Flooding Data</a></li>
			<li><a href='#' class='' id='markers4'>Knotweed Data</a></li>
          </ul>
        </li>
        <li><a href="#">WMS Overlays</a>
          <ul>
			<li><a href='#' class='' id='clouds'>Clouds WMS</a></li>
			<li><a href='#' class='' id='precipitation'>Precipitation WMS</a></li>
			<li><a href='#' class='' id='rain'>Rain WMS</a></li>
			<li><a href='#' class='' id='wind'>Wind WMS</a></li>
			<li><a href='#' class='' id='temperature'>Temperature WMS</a></li>
			<li><a href='#' class='' id='snow'>Snow WMS</a></li>
			<li><a href='#' class='' id='pressure'>Pressure WMS</a></li>
			<li><a href='#' class='' id='pressure_cntr'>Pressure Contour WMS</a></li>
          </ul>
        </li>
        <li><a href="#">Earthquake WFS</a>
          <ul>
            <li><a href='#' class='' id='earthquake'>Earthquakes WFS</a></li>
          </ul>
        </li>
      </ul>
    </nav>

   <script type="text/javascript">
		// Layer switcher

document.getElementById('markers4').onclick = function () {
    var enable = this.className !== 'active';
    if(enable){
		map.addLayer(markers4);
		map.fitBounds(L.featureGroup([markers4]).getBounds()); 
	}else{
		map.removeLayer(markers4);
	}
    this.className = enable ? 'active' : '';
    return false;
};
		
document.getElementById('markers3').onclick = function () {
    var enable = this.className !== 'active';
    if(enable){
		map.addLayer(markers3);
		map.fitBounds(L.featureGroup([markers3]).getBounds()); 
	}else{
		map.removeLayer(markers3);
	}
    this.className = enable ? 'active' : '';
    return false;
};
		
document.getElementById('wug').onclick = function () {
    var enable = this.className !== 'active';
	    if(enable){
		map.addLayer(wug);
		map.fitBounds(L.featureGroup([wug]).getBounds()); 
	}else{
		map.removeLayer(wug);
	}
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('salt').onclick = function () {
    var enable = this.className !== 'active';
	    if(enable){
		map.addLayer(salt);
		map.fitBounds(L.featureGroup([salt]).getBounds()); 
	}else{
		map.removeLayer(salt);
	}
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('peat').onclick = function () {
    var enable = this.className !== 'active';
	    if(enable){
		map.addLayer(peat);
		map.fitBounds(L.featureGroup([peat]).getBounds()); 
	}else{
		map.removeLayer(peat);
	}
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('shoot').onclick = function () {
    var enable = this.className !== 'active';
	    if(enable){
		map.addLayer(shoot);
		map.fitBounds(L.featureGroup([shoot]).getBounds()); 
	}else{
		map.removeLayer(shoot);
	}
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('markers2').onclick = function () {
    var enable = this.className !== 'active';
	    if(enable){
		map.addLayer(markers2);
		map.fitBounds(L.featureGroup([markers2]).getBounds()); 
	}else{
		map.removeLayer(markers2);
	}
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('earthquake').onclick = function () {
    var enable = this.className !== 'active';
	    if(enable){
		map.addLayer(earthquake);
		map.fitBounds(L.featureGroup([earthquake]).getBounds()); 
	}else{
		map.removeLayer(earthquake);
	}
    this.className = enable ? 'active' : '';
    return false;
};
	
		
document.getElementById('clouds').onclick = function () {
    var enable = this.className !== 'active';
	if(enable){
		map.addLayer(clouds);
		clouds.setOpacity(0.6);
	}else{
		map.removeLayer(clouds);
	}
    //clouds.setOpacity(enable ? 0.6 : 0);
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('precipitation').onclick = function () {
    var enable = this.className !== 'active';
		if(enable){
		map.addLayer(precipitation);
		precipitation.setOpacity(0.6);
	}else{
		map.removeLayer(precipitation);
	}
   // precipitation.setOpacity(enable ? 0.6 : 0);
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('rain').onclick = function () {
    var enable = this.className !== 'active';
		if(enable){
		map.addLayer(rain);
		rain.setOpacity(0.6);
	}else{
		map.removeLayer(rain);
	}
   // precipitation.setOpacity(enable ? 0.6 : 0);
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('wind').onclick = function () {
    var enable = this.className !== 'active';
			if(enable){
		map.addLayer(wind);
		wind.setOpacity(0.4);
	}else{
		map.removeLayer(wind);
	}
 //   wind.setOpacity(enable ? 0.4 : 0);
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('temperature').onclick = function () {
    var enable = this.className !== 'active';
				if(enable){
		map.addLayer(temperature);
		temperature.setOpacity(0.4);
	}else{
		map.removeLayer(temperature);
	}
    //temperature.setOpacity(enable ? 0.4 : 0);
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('snow').onclick = function () {
    var enable = this.className !== 'active';
					if(enable){
		map.addLayer(snow);
		snow.setOpacity(0.6);
	}else{
		map.removeLayer(snow);
	}
    //snow.setOpacity(enable ? 0.6 : 0);
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('pressure').onclick = function () {
    var enable = this.className !== 'active';
						if(enable){
		map.addLayer(pressure);
		pressure.setOpacity(0.5);
	}else{
		map.removeLayer(pressure);
	}
    //pressure.setOpacity(enable ? 0.4 : 0);
    this.className = enable ? 'active' : '';
    return false;
};

document.getElementById('pressure_cntr').onclick = function () {
    var enable = this.className !== 'active';
	if(enable){
		map.addLayer(pressure_cntr);
		pressure_cntr.setOpacity(1);
	}else{
		map.removeLayer(pressure_cntr);
	}
    pressure_cntr.setOpacity(enable ? 1 : 0);
    this.className = enable ? 'active' : '';
    return false;
};
          </script>
	<div id="selection_div">
    <div id="chart_div"></div>
		<div id="checkboxes"></div>
		<div id="checkboxes2"></div>
		
		<table style="width: 100%">
			<tr>
				<td>
				<img alt="" height="125" src="../../../../../../../dataviewer/logo5.png" width="253">
				<br><span class="auto-style2">This project has received funding from
				the European Union’s Seventh 
		Programme</span><span lang="en-gb" class="auto-style2"> </span>
				<span class="auto-style2">for research, technological development and<span lang="en-gb">
				</span>demonstration 
		under grant agreement </span> <span lang="en-gb" class="auto-style2">&nbsp;</span><span class="auto-style2">No 308513</span></td>
				<</td>
			</tr>
		</table>
</body>
</html>